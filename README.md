# 团购系统 (Group Buy System)

基于DDD领域驱动设计的企业级团购系统，采用六边形架构和多种设计模式构建，实现业务与技术的清晰分离。

## 📸 系统预览

<div align="center">
  <img src="docs/img/1.png" alt="团购系统预览" width="800">
</div>

## 🏗️ 系统架构

### 核心设计理念
- **领域驱动设计 (DDD)**：以业务领域为核心，采用聚合根、实体、值对象的经典模式
- **六边形架构**：业务逻辑与技术实现完全解耦，确保系统的可维护性
- **模块化架构**：Maven多模块设计，每个模块职责单一且边界清晰

### 系统分层

```
group-buy/
├── group-buy-api/              # 接口定义层 - 对外契约定义
├── group-buy-app/              # 应用服务层 - 系统启动与配置
├── group-buy-domain/           # 领域核心层 - 业务逻辑与规则
├── group-buy-trigger/          # 适配器层 - 外部请求处理
├── group-buy-infrastructure/   # 基础设施层 - 技术实现细节
└── group-buy-types/           # 公共组件层 - 通用框架与工具
```

## 🛠️ 技术选型

### 基础框架
- **Spring Boot 2.7.12** - 应用框架
- **Java 8** - 开发语言
- **Maven** - 项目构建

### 持久化技术
- **MyBatis** - 数据访问框架
- **MySQL 8.0.22** - 主数据库
- **Redisson 3.26.0** - 分布式缓存与锁

### 核心依赖
- **FastJSON 2.0.28** - JSON处理
- **Google Guava 32.1.3** - 工具集合
- **Apache Commons Lang3** - 通用工具
- **Lombok** - 代码增强

### 安全组件
- **JWT** - 身份认证
  - 标准JWT实现
  - Auth0 JWT扩展

## 🎯 设计模式实践

### 责任链模式
构建了灵活的规则过滤体系，支持动态组装业务规则链条。交易处理中的各种校验规则通过责任链模式串联，实现了规则的可插拔配置。

### 策略模式
活动处理采用策略模式设计，支持不同类型活动的差异化处理逻辑。通过策略路由器实现策略的动态选择和执行。

### 工厂模式
各类业务对象通过工厂模式创建，统一管理对象的生命周期和依赖关系。

## 🏛️ 领域模型设计

### 聚合设计
聚合作为业务一致性边界，封装了核心业务逻辑。每个聚合都有明确的根实体，负责维护聚合内的数据一致性。

### 实体建模
实体对象承载业务属性和行为，与数据库持久化对象保持合理的映射关系。根据业务复杂度，采用1v1或1vn的映射策略。

### 业务领域划分
系统按业务职责划分为三个核心领域：
- **Activity** - 营销活动管理
- **Trade** - 交易订单处理  
- **Tag** - 用户标签体系

## 🔧 技术亮点

### 通用框架设计
自研的责任链和策略模式框架，支持单实例和多实例两种模式。框架具备良好的扩展性，可以快速适配新的业务场景。

### 异步处理能力
多线程策略路由器支持异步数据预加载，在保证数据一致性的前提下提升系统响应性能。

### 动态配置支持
运行时上下文机制允许业务参数的动态传递和配置，增强了系统的灵活性。

## 📋 开发规范

### 对象命名规则
- 聚合对象：`XxxAggregate`
- 实体对象：`XxxEntity`  
- 值对象：`XxxVO`
- 工厂类：`XxxFactory`
- 服务类：`XxxService` / `XxxServiceImpl`

### 模块依赖管理
严格控制模块间的依赖关系：Domain层保持业务纯净性，Infrastructure层实现技术细节，App层负责整体组装，Types层提供通用能力。 